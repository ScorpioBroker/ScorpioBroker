{
	"info": {
		"_postman_id": "3ae22b65-e66b-4de3-af36-1c51c1789b02",
		"name": "API Test",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Function tests",
			"item": [
				{
					"name": "No Tenant",
					"item": [
						{
							"name": "/entities",
							"item": [
								{
									"name": "Entity Create Tests",
									"item": [
										{
											"name": "Entity No Context",
											"item": [
												{
													"name": "Create Simple Entity No Context",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Created Entity and Validate content",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"created\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    console.log(\"Expected: \" + expected);\r",
																	"    console.log(\"Received: \" + jsonData);\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Entity Context In Body",
											"item": [
												{
													"name": "Create Simple Entity With @context in body",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.collectionVariables.set(\"@context\", payloadBody[\"@context\"][0]);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"},\r\n    \"@context\": [\"https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json\", \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context-v1.3.jsonld\"]\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Created Entity and Validate content",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"created\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    console.log(\"Expected: \" + JSON.stringify(expected));\r",
																	"    console.log(\"Received: \" + JSON.stringify(jsonData));\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<{{@context}}>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"',",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Entity Context in Link",
											"item": [
												{
													"name": "Create Simple Entity With @context in link",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.collectionVariables.set(\"link\", pm.request.headers.get(\"Link\"));\r",
																	"\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Created Entity and Validate content",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"created\");\r",
																	"var expectedLink = pm.collectionVariables.get(\"link\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});\r",
																	"pm.test(\"Validate Link header\", function () {\r",
																	"    var headers = pm.response.headers.all();\r",
																	"    var links = []\r",
																	"    headers.forEach(function(itm, idx){\r",
																	"        if(itm.key == \"Link\"){\r",
																	"            links.push(itm.value);\r",
																	"        }\r",
																	"    });\r",
																	"    console.log(\"expected Link: \" + expectedLink);\r",
																	"    console.log(\"received Links: \" + links);\r",
																	"    pm.expect(links).to.include(expectedLink);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "{{link}}",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										}
									]
								},
								{
									"name": "Entity Update Tests",
									"item": [
										{
											"name": "Update Complete Entity with no context",
											"item": [
												{
													"name": "Create Simple Entity No Context",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update all fields of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststringupdated\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123456},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456789},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values updated\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1:updated\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and Validate content",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"updated\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "",
																"value": "",
																"type": "default",
																"disabled": true
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Partial Update Entity with no context",
											"item": [
												{
													"name": "Create Simple Entity No Context",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update string test field of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"var entityId = pm.collectionVariables.get(\"entityId\");\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"pm.collectionVariables.set(\"updatedAttrib\", \"stringproperty\");\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\"type\": \"Property\", \"value\": \"teststringupdated\"}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs/stringproperty",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs",
																"stringproperty"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and Validate String Entry",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expectedUpdatedValue = pm.collectionVariables.get(\"updated\");\r",
																	"var expectedUpdatedKey = pm.collectionVariables.get(\"updatedAttrib\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData[expectedUpdatedKey]).to.eql(expectedUpdatedValue);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "",
																"value": "",
																"type": "default",
																"disabled": true
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update int test field of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"var entityId = pm.collectionVariables.get(\"entityId\");\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"pm.collectionVariables.set(\"updatedAttrib\", \"intproperty\");\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\"type\": \"Property\", \"value\": 1234567}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs/intproperty",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs",
																"intproperty"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and Validate Int Entry",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expectedUpdatedValue = pm.collectionVariables.get(\"updated\");\r",
																	"var expectedUpdatedKey = pm.collectionVariables.get(\"updatedAttrib\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData[expectedUpdatedKey]).to.eql(expectedUpdatedValue);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "",
																"value": "",
																"type": "default",
																"disabled": true
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update float test field of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"var entityId = pm.collectionVariables.get(\"entityId\");\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"pm.collectionVariables.set(\"updatedAttrib\", \"floatproperty\");\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\"type\": \"Property\", \"value\": 1234567.89}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs/floatproperty",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs",
																"floatproperty"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and Validate Float Entry",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expectedUpdatedValue = pm.collectionVariables.get(\"updated\");\r",
																	"var expectedUpdatedKey = pm.collectionVariables.get(\"updatedAttrib\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData[expectedUpdatedKey]).to.eql(expectedUpdatedValue);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "",
																"value": "",
																"type": "default",
																"disabled": true
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update complexproperty test field of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"var entityId = pm.collectionVariables.get(\"entityId\");\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"pm.collectionVariables.set(\"updatedAttrib\", \"complexproperty\");\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values updated\"}}}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs/complexproperty",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs",
																"complexproperty"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and ValidateComplex Entry",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expectedUpdatedValue = pm.collectionVariables.get(\"updated\");\r",
																	"var expectedUpdatedKey = pm.collectionVariables.get(\"updatedAttrib\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData[expectedUpdatedKey]).to.eql(expectedUpdatedValue);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "",
																"value": "",
																"type": "default",
																"disabled": true
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update relationship test field of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"var entityId = pm.collectionVariables.get(\"entityId\");\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"pm.collectionVariables.set(\"updatedAttrib\", \"testrelationship\");\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\"type\": \"Relationship\", \"object\": \"urn:testref1:updated\"}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs/testrelationship",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs",
																"testrelationship"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and Validate Relationship Entry",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expectedUpdatedValue = pm.collectionVariables.get(\"updated\");\r",
																	"var expectedUpdatedKey = pm.collectionVariables.get(\"updatedAttrib\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData[expectedUpdatedKey]).to.eql(expectedUpdatedValue);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "",
																"value": "",
																"type": "default",
																"disabled": true
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Update Complete Entity with context in body",
											"item": [
												{
													"name": "Create Simple Entity With @context in body",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.collectionVariables.set(\"@context\", payloadBody[\"@context\"][0]);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"},\r\n    \"@context\": [\"https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json\", \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context-v1.3.jsonld\"]\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update all fields of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststringupdated\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123456},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456789},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values updated\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1:updated\"},\r\n    \"@context\": [\"https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json\", \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context-v1.3.jsonld\"]\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and Validate content",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"updated\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    console.log(\"Expected: \" + JSON.stringify(expected));\r",
																	"    console.log(\"Received: \" + JSON.stringify(jsonData));\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<{{@context}}>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"',",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Partial Update Entity with context in body",
											"item": [
												{
													"name": "Create Simple Entity With @context in body",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.collectionVariables.set(\"@context\", payloadBody[\"@context\"]);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"},\r\n    \"@context\": \"https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json\"\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update string test field of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody[\"stringproperty\"]);\r",
																	"pm.collectionVariables.set(\"updatedAttrib\", \"stringproperty\");\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststringupdated\"},\r\n    \"@context\": \"{{@context}}\"\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs/",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs",
																""
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and Validate String Entry",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expectedUpdatedValue = pm.collectionVariables.get(\"updated\");\r",
																	"var expectedUpdatedKey = pm.collectionVariables.get(\"updatedAttrib\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData[expectedUpdatedKey]).to.eql(expectedUpdatedValue);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<{{@context}}>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"',",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update int test field of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody[\"intproperty\"]);\r",
																	"pm.collectionVariables.set(\"updatedAttrib\", \"intproperty\");\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\"intproperty\":{\"type\": \"Property\", \"value\": 1234567},\r\n    \"@context\": \"{{@context}}\"\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs/",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs",
																""
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and Validate Int Entry",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expectedUpdatedValue = pm.collectionVariables.get(\"updated\");\r",
																	"var expectedUpdatedKey = pm.collectionVariables.get(\"updatedAttrib\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData[expectedUpdatedKey]).to.eql(expectedUpdatedValue);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<{{@context}}>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"',",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update float test field of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody[\"floatproperty\"]);\r",
																	"pm.collectionVariables.set(\"updatedAttrib\", \"floatproperty\");\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\"floatproperty\": {\"type\": \"Property\", \"value\": 1234567.89},\r\n    \"@context\": \"{{@context}}\"\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs/",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs",
																""
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and Validate Float Entry",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expectedUpdatedValue = pm.collectionVariables.get(\"updated\");\r",
																	"var expectedUpdatedKey = pm.collectionVariables.get(\"updatedAttrib\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData[expectedUpdatedKey]).to.eql(expectedUpdatedValue);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<{{@context}}>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"',",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update complexproperty test field of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody[\"complexproperty\"]);\r",
																	"pm.collectionVariables.set(\"updatedAttrib\", \"complexproperty\");\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\"complexproperty\":{\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values updated\"}}},\r\n    \"@context\": \"{{@context}}\"\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs/",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs",
																""
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and ValidateComplex Entry",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expectedUpdatedValue = pm.collectionVariables.get(\"updated\");\r",
																	"var expectedUpdatedKey = pm.collectionVariables.get(\"updatedAttrib\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData[expectedUpdatedKey]).to.eql(expectedUpdatedValue);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<{{@context}}>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"',",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update relationship test field of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody[\"testrelationship\"]);\r",
																	"pm.collectionVariables.set(\"updatedAttrib\", \"testrelationship\");\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\"testrelationship\":{\"type\": \"Relationship\", \"object\": \"urn:testref1:updated\"},\r\n    \"@context\": \"{{@context}}\"\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs/",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs",
																""
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and Validate Relationship Entry",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expectedUpdatedValue = pm.collectionVariables.get(\"updated\");\r",
																	"var expectedUpdatedKey = pm.collectionVariables.get(\"updatedAttrib\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData[expectedUpdatedKey]).to.eql(expectedUpdatedValue);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<{{@context}}>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"',",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Update Complete Entity with context in Link",
											"item": [
												{
													"name": "Create Simple Entity With @context in link",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.collectionVariables.set(\"link\", pm.request.headers.get(\"Link\"));\r",
																	"\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update all fields of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "{{link}}",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststringupdated\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123456},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456789},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values updated\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1:updated\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and Validate content",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"updated\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "{{link}}",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Partial Update Entity with context in Link",
											"item": [
												{
													"name": "Create Simple Entity With @context in link",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.collectionVariables.set(\"link\", pm.request.headers.get(\"Link\"));\r",
																	"\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update string test field of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"pm.collectionVariables.set(\"updatedAttrib\", \"stringproperty\");\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "{{link}}",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\"type\": \"Property\", \"value\": \"teststringupdated\"}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs/stringproperty",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs",
																"stringproperty"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and Validate String Entry",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expectedUpdatedValue = pm.collectionVariables.get(\"updated\");\r",
																	"var expectedUpdatedKey = pm.collectionVariables.get(\"updatedAttrib\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData[expectedUpdatedKey]).to.eql(expectedUpdatedValue);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "{{link}}",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update int test field of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"pm.collectionVariables.set(\"updatedAttrib\", \"intproperty\");\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "{{link}}",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\"type\": \"Property\", \"value\": 1234567}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs/intproperty",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs",
																"intproperty"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and Validate Int Entry",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expectedUpdatedValue = pm.collectionVariables.get(\"updated\");\r",
																	"var expectedUpdatedKey = pm.collectionVariables.get(\"updatedAttrib\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData[expectedUpdatedKey]).to.eql(expectedUpdatedValue);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "{{link}}",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update float test field of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"pm.collectionVariables.set(\"updatedAttrib\", \"floatproperty\");\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "{{link}}",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\"type\": \"Property\", \"value\": 1234567.89}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs/floatproperty",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs",
																"floatproperty"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and Validate Float Entry",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expectedUpdatedValue = pm.collectionVariables.get(\"updated\");\r",
																	"var expectedUpdatedKey = pm.collectionVariables.get(\"updatedAttrib\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData[expectedUpdatedKey]).to.eql(expectedUpdatedValue);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "{{link}}",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update complexproperty test field of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"pm.collectionVariables.set(\"updatedAttrib\", \"complexproperty\");\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "{{link}}",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values updated\"}}}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs/complexproperty",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs",
																"complexproperty"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and ValidateComplex Entry",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expectedUpdatedValue = pm.collectionVariables.get(\"updated\");\r",
																	"var expectedUpdatedKey = pm.collectionVariables.get(\"updatedAttrib\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData[expectedUpdatedKey]).to.eql(expectedUpdatedValue);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "{{link}}",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update relationship test field of the entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"pm.collectionVariables.set(\"updatedAttrib\", \"testrelationship\");\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "{{link}}",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\"type\": \"Relationship\", \"object\": \"urn:testref1:updated\"}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs/testrelationship",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs",
																"testrelationship"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and Validate Relationship Entry",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expectedUpdatedValue = pm.collectionVariables.get(\"updated\");\r",
																	"var expectedUpdatedKey = pm.collectionVariables.get(\"updatedAttrib\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData[expectedUpdatedKey]).to.eql(expectedUpdatedValue);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "{{link}}",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										}
									]
								},
								{
									"name": "Entity Append Tests",
									"item": [
										{
											"name": "Append new property to entity no context",
											"item": [
												{
													"name": "Create Simple Entity No Context",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Append new field",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"pm.collectionVariables.set(\"updatedKey\", \"newtestproperty\")\r",
																	"pm.collectionVariables.set(\"updatedValue\", payloadBody[\"newtestproperty\"]);\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"newtestproperty\": {\"type\": \"Relationship\", \"object\": \"urn:testref1:updated\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and Validate content",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"created\");\r",
																	"var addedKey = pm.collectionVariables.get(\"updatedKey\");\r",
																	"var addedValue = pm.collectionVariables.get(\"updatedValue\");\r",
																	"\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData[addedKey]).to.eql(addedValue);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "",
																"value": "",
																"type": "default",
																"disabled": true
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Change existing property with append no context",
											"item": [
												{
													"name": "Create Simple Entity No Context",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update field with append",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"pm.collectionVariables.set(\"updatedKey\", \"stringproperty\")\r",
																	"pm.collectionVariables.set(\"updatedValue\", payloadBody[\"stringproperty\"]);\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"updated\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}/attrs",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}",
																"attrs"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Updated Entity and Validate content",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"created\");\r",
																	"var addedKey = pm.collectionVariables.get(\"updatedKey\");\r",
																	"var addedValue = pm.collectionVariables.get(\"updatedValue\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData[addedKey]).to.eql(addedValue);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "",
																"value": "",
																"type": "default",
																"disabled": true
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Append new relationship to entity no context",
											"item": []
										},
										{
											"name": "Change existing relationship with append no context",
											"item": []
										}
									]
								},
								{
									"name": "Entity Delete Tests",
									"item": [
										{
											"name": "Delete Entity",
											"item": [
												{
													"name": "Create Simple Entity No Context",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Validate deletion of entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"\r",
																	"pm.test(\"Status code is 404\", function () {\r",
																	"    pm.response.to.have.status(404);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Delete Attribute",
											"item": []
										}
									]
								},
								{
									"name": "Query Tests",
									"item": [
										{
											"name": "Query for Type",
											"item": [
												{
													"name": "Create Simple Entity to be found",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"createdTBF\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityIdTBF\", entityId);\r",
																	"pm.collectionVariables.set(\"entityTypeTBF\", payloadBody.type);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Simple Entity to be not found",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"createdTBNF\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityIdTBNF\", entityId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity2\",\r\n    \"type\": \"TestType2\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Query for entity type tbf",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"\r",
																	"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData.length).to.eql(1);\r",
																	"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																	"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															],
															"query": [
																{
																	"key": "type",
																	"value": "{{entityTypeTBF}}"
																},
																{
																	"key": "",
																	"value": "",
																	"disabled": true
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity TBF",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBF}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityIdTBF}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity TBNF",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBNF}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityIdTBNF}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Query for Type and Id",
											"item": [
												{
													"name": "Create Simple Entity to be found",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"createdTBF\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityIdTBF\", entityId);\r",
																	"pm.collectionVariables.set(\"entityTypeTBF\", payloadBody.type);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Simple Entity to be not found",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"createdTBNF\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityIdTBNF\", entityId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity2\",\r\n    \"type\": \"TestType2\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Query for entity type and id tbf",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"\r",
																	"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData.length).to.eql(1);\r",
																	"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																	"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&id={{entityIdTBF}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															],
															"query": [
																{
																	"key": "type",
																	"value": "{{entityTypeTBF}}"
																},
																{
																	"key": "id",
																	"value": "{{entityIdTBF}}"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity TBF",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBF}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityIdTBF}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity TBNF",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBNF}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityIdTBNF}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Query for Type and IdPattern",
											"item": [
												{
													"name": "Create Simple Entity to be found",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"createdTBF\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityIdTBF\", entityId);\r",
																	"pm.collectionVariables.set(\"entityTypeTBF\", payloadBody.type);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Simple Entity to be not found",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"createdTBNF\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityIdTBNF\", entityId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity2\",\r\n    \"type\": \"TestType2\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Query for entity type and id tbf",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"\r",
																	"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData.length).to.eql(1);\r",
																	"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																	"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&idPattern=urn:test*",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															],
															"query": [
																{
																	"key": "type",
																	"value": "{{entityTypeTBF}}"
																},
																{
																	"key": "idPattern",
																	"value": "urn:test*"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity TBF",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBF}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityIdTBF}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity TBNF",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBNF}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityIdTBNF}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Query for Type with Q Filter",
											"item": [
												{
													"name": "Property regex",
													"item": []
												},
												{
													"name": "Relationship regex",
													"item": []
												},
												{
													"name": "Property equal",
													"item": [
														{
															"name": "Create Simple Entity to be found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBF\", entityId);\r",
																			"pm.collectionVariables.set(\"entityTypeTBF\", payloadBody.type);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity to be not found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBNF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBNF\", entityId);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n    \"id\": \"urn:test:testentity2\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring1\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 1123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 1123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"differentvalues\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref2\"}\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for string",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&q=stringproperty==\"teststring\"",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "q",
																			"value": "stringproperty==\"teststring\""
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for int",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&q=intproperty==123",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "q",
																			"value": "intproperty==123"
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for float",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&q=floatproperty==123.456",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "q",
																			"value": "floatproperty==123.456"
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBF}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBNF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});\r",
																			"pm.collectionVariables.clear();"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBNF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBNF}}"
																	]
																}
															},
															"response": []
														}
													]
												},
												{
													"name": "Relationship equal",
													"item": [
														{
															"name": "Create Simple Entity to be found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBF\", entityId);\r",
																			"pm.collectionVariables.set(\"entityTypeTBF\", payloadBody.type);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity to be not found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBNF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBNF\", entityId);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n    \"id\": \"urn:test:testentity2\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring1\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 1123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 1123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"differentvalues\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref2\"}\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for relationship",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&q=testrelationship==urn:testref1",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "q",
																			"value": "testrelationship==urn:testref1"
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBF}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBNF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});\r",
																			"pm.collectionVariables.clear();"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBNF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBNF}}"
																	]
																}
															},
															"response": []
														}
													]
												},
												{
													"name": "Property smaller than",
													"item": [
														{
															"name": "Create Simple Entity to be found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBF\", entityId);\r",
																			"pm.collectionVariables.set(\"entityTypeTBF\", payloadBody.type);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity to be not found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBNF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBNF\", entityId);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n    \"id\": \"urn:test:testentity2\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring1\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 1123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 1123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"differentvalues\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref2\"}\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for int",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&q=intproperty<223",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "q",
																			"value": "intproperty<223"
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for float",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&q=floatproperty<223.456",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "q",
																			"value": "floatproperty<223.456"
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBF}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBNF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});\r",
																			"pm.collectionVariables.clear();"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBNF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBNF}}"
																	]
																}
															},
															"response": []
														}
													]
												},
												{
													"name": "Property smaller equal than",
													"item": [
														{
															"name": "Create Simple Entity to be found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBF\", entityId);\r",
																			"pm.collectionVariables.set(\"entityTypeTBF\", payloadBody.type);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity to be not found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBNF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBNF\", entityId);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n    \"id\": \"urn:test:testentity2\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring1\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 1123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 1123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"differentvalues\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref2\"}\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for int",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&q=intproperty<=123",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "q",
																			"value": "intproperty<=123"
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for float",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&q=floatproperty<=223.456",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "q",
																			"value": "floatproperty<=223.456"
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBF}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBNF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});\r",
																			"pm.collectionVariables.clear();"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBNF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBNF}}"
																	]
																}
															},
															"response": []
														}
													]
												},
												{
													"name": "Property greater than",
													"item": [
														{
															"name": "Create Simple Entity to be found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBF\", entityId);\r",
																			"pm.collectionVariables.set(\"entityTypeTBF\", payloadBody.type);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity to be not found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBNF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBNF\", entityId);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n    \"id\": \"urn:test:testentity2\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring1\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 1123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 1123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"differentvalues\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref2\"}\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for int",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&q=intproperty>223",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "q",
																			"value": "intproperty>223"
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for float",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&q=floatproperty>223.456",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "q",
																			"value": "floatproperty>223.456"
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBF}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBNF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});\r",
																			"pm.collectionVariables.clear();"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBNF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBNF}}"
																	]
																}
															},
															"response": []
														}
													]
												},
												{
													"name": "Property greater equal than",
													"item": [
														{
															"name": "Create Simple Entity to be found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBF\", entityId);\r",
																			"pm.collectionVariables.set(\"entityTypeTBF\", payloadBody.type);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity to be not found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBNF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBNF\", entityId);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n    \"id\": \"urn:test:testentity2\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring1\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 1123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 1123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"differentvalues\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref2\"}\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for int",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&q=intproperty>=223",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "q",
																			"value": "intproperty>=223"
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for float",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&q=floatproperty>=223.456",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "q",
																			"value": "floatproperty>=223.456"
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBF}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBNF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});\r",
																			"pm.collectionVariables.clear();"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBNF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBNF}}"
																	]
																}
															},
															"response": []
														}
													]
												}
											]
										},
										{
											"name": "Query for Type with GeoQuery",
											"item": [
												{
													"name": "Near",
													"item": [
														{
															"name": "Create Simple Entity to be found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBF\", entityId);\r",
																			"pm.collectionVariables.set(\"entityTypeTBF\", payloadBody.type);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n   \t\"id\": \"urn:ngsi-ld:test3\",\r\n   \t\"type\": \"TestType\",\r\n    \"location\": {\r\n        \"type\": \"GeoProperty\",\r\n        \"value\": { \r\n        \t\"type\": \"Point\", \r\n        \t\"coordinates\": [80, 80.0005] \r\n        }\r\n    },\r\n   \t\"name\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": \"MERCEDES\"\r\n   \t},\r\n    \"speed\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": 60\r\n   \t},\r\n    \"owner\": {\"type\": \"Relationship\", \"object\": \"urn:testref\"}\r\n\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity to be not found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBNF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBNF\", entityId);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n   \t\"id\": \"urn:ngsi-ld:test4\",\r\n   \t\"type\": \"TestType\",\r\n    \"location\": {\r\n        \"type\": \"GeoProperty\",\r\n        \"value\": { \r\n        \t\"type\": \"Point\", \r\n        \t\"coordinates\": [50, 50.0005] \r\n        }\r\n    },\r\n   \t\"name\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": \"MERCEDES\"\r\n   \t},\r\n    \"speed\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": 60\r\n   \t},\r\n    \"owner\": {\"type\": \"Relationship\", \"object\": \"urn:testref\"}\r\n\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for entity tbf",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&geoproperty=location&georel=near;maxDistance==1500&geometry=Point&coordinates=[80,80]",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "geoproperty",
																			"value": "location"
																		},
																		{
																			"key": "georel",
																			"value": "near;maxDistance==1500"
																		},
																		{
																			"key": "geometry",
																			"value": "Point"
																		},
																		{
																			"key": "coordinates",
																			"value": "[80,80]"
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBF}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBNF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});\r",
																			"pm.collectionVariables.clear();"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBNF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBNF}}"
																	]
																}
															},
															"response": []
														}
													]
												},
												{
													"name": "Within",
													"item": [
														{
															"name": "Create Simple Entity to be found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBF\", entityId);\r",
																			"pm.collectionVariables.set(\"entityTypeTBF\", payloadBody.type);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n   \t\"id\": \"urn:ngsi-ld:test3\",\r\n   \t\"type\": \"TestType\",\r\n    \"location\": {\r\n        \"type\": \"GeoProperty\",\r\n        \"value\": { \r\n        \t\"type\": \"Point\", \r\n        \t\"coordinates\": [80, 80.0005] \r\n        }\r\n    },\r\n   \t\"name\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": \"MERCEDES\"\r\n   \t},\r\n    \"speed\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": 60\r\n   \t},\r\n    \"owner\": {\"type\": \"Relationship\", \"object\": \"urn:testref\"}\r\n\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity to be not found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBNF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBNF\", entityId);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n   \t\"id\": \"urn:ngsi-ld:test4\",\r\n   \t\"type\": \"TestType\",\r\n    \"location\": {\r\n        \"type\": \"GeoProperty\",\r\n        \"value\": { \r\n        \t\"type\": \"Point\", \r\n        \t\"coordinates\": [50, 50.0005] \r\n        }\r\n    },\r\n   \t\"name\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": \"MERCEDES\"\r\n   \t},\r\n    \"speed\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": 60\r\n   \t},\r\n    \"owner\": {\"type\": \"Relationship\", \"object\": \"urn:testref\"}\r\n\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for entity tbf",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&geoproperty=location&georel=within&geometry=Polygon&coordinates=[[[79,79],[81,79],[81,81],[79,81],[79,79]]]",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "geoproperty",
																			"value": "location"
																		},
																		{
																			"key": "georel",
																			"value": "within"
																		},
																		{
																			"key": "geometry",
																			"value": "Polygon"
																		},
																		{
																			"key": "coordinates",
																			"value": "[[[79,79],[81,79],[81,81],[79,81],[79,79]]]"
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBF}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBNF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});\r",
																			"pm.collectionVariables.clear();"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBNF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBNF}}"
																	]
																}
															},
															"response": []
														}
													]
												},
												{
													"name": "Equal",
													"item": [
														{
															"name": "Create Simple Entity to be found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBF\", entityId);\r",
																			"pm.collectionVariables.set(\"entityTypeTBF\", payloadBody.type);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n   \t\"id\": \"urn:ngsi-ld:test3\",\r\n   \t\"type\": \"TestType\",\r\n    \"location\": {\r\n        \"type\": \"GeoProperty\",\r\n        \"value\": { \r\n        \t\"type\": \"Point\", \r\n        \t\"coordinates\": [80, 80.0005] \r\n        }\r\n    },\r\n   \t\"name\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": \"MERCEDES\"\r\n   \t},\r\n    \"speed\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": 60\r\n   \t},\r\n    \"owner\": {\"type\": \"Relationship\", \"object\": \"urn:testref\"}\r\n\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity to be not found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBNF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBNF\", entityId);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n   \t\"id\": \"urn:ngsi-ld:test4\",\r\n   \t\"type\": \"TestType\",\r\n    \"location\": {\r\n        \"type\": \"GeoProperty\",\r\n        \"value\": { \r\n        \t\"type\": \"Point\", \r\n        \t\"coordinates\": [50, 50.0005] \r\n        }\r\n    },\r\n   \t\"name\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": \"MERCEDES\"\r\n   \t},\r\n    \"speed\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": 60\r\n   \t},\r\n    \"owner\": {\"type\": \"Relationship\", \"object\": \"urn:testref\"}\r\n\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for entity tbf",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&geoproperty=location&georel=equals&geometry=Point&coordinates=[80,80.0005]",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "geoproperty",
																			"value": "location"
																		},
																		{
																			"key": "georel",
																			"value": "equals"
																		},
																		{
																			"key": "geometry",
																			"value": "Point"
																		},
																		{
																			"key": "coordinates",
																			"value": "[80,80.0005]"
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBF}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBNF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});\r",
																			"pm.collectionVariables.clear();"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBNF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBNF}}"
																	]
																}
															},
															"response": []
														}
													]
												},
												{
													"name": "Contains",
													"item": [
														{
															"name": "Create Simple Entity to be found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBF\", entityId);\r",
																			"pm.collectionVariables.set(\"entityTypeTBF\", payloadBody.type);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n   \t\"id\": \"urn:ngsi-ld:test3\",\r\n   \t\"type\": \"TestType\",\r\n    \"location\": {\r\n        \"type\": \"GeoProperty\",\r\n        \"value\": { \r\n        \t\"type\": \"Polygon\", \r\n        \t\"coordinates\": [[[79,79],[81,79],[81,81],[79,81],[79,79]]]\r\n        }\r\n    },\r\n   \t\"name\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": \"MERCEDES\"\r\n   \t},\r\n    \"speed\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": 60\r\n   \t},\r\n    \"owner\": {\"type\": \"Relationship\", \"object\": \"urn:testref\"}\r\n\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity to be not found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBNF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBNF\", entityId);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n   \t\"id\": \"urn:ngsi-ld:test4\",\r\n   \t\"type\": \"TestType\",\r\n    \"location\": {\r\n        \"type\": \"GeoProperty\",\r\n        \"value\": { \r\n        \t\"type\": \"Polygon\", \r\n        \t\"coordinates\": [[[49,49],[51,49],[51,51],[49,51],[49,49]]]\r\n        }\r\n    },\r\n   \t\"name\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": \"MERCEDES\"\r\n   \t},\r\n    \"speed\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": 60\r\n   \t},\r\n    \"owner\": {\"type\": \"Relationship\", \"object\": \"urn:testref\"}\r\n\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for entity tbf",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&geoproperty=location&georel=contains&geometry=Point&coordinates=[80,80.0005]",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "geoproperty",
																			"value": "location"
																		},
																		{
																			"key": "georel",
																			"value": "contains"
																		},
																		{
																			"key": "geometry",
																			"value": "Point"
																		},
																		{
																			"key": "coordinates",
																			"value": "[80,80.0005]"
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBF}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBNF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});\r",
																			"pm.collectionVariables.clear();"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBNF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBNF}}"
																	]
																}
															},
															"response": []
														}
													]
												},
												{
													"name": "Intersects",
													"item": [
														{
															"name": "Create Simple Entity to be found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBF\", entityId);\r",
																			"pm.collectionVariables.set(\"entityTypeTBF\", payloadBody.type);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n   \t\"id\": \"urn:ngsi-ld:test3\",\r\n   \t\"type\": \"TestType\",\r\n    \"location\": {\r\n        \"type\": \"GeoProperty\",\r\n        \"value\": { \r\n        \t\"type\": \"Polygon\", \r\n        \t\"coordinates\": [[[79,79],[81,79],[81,81],[79,81],[79,79]]]\r\n        }\r\n    },\r\n   \t\"name\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": \"MERCEDES\"\r\n   \t},\r\n    \"speed\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": 60\r\n   \t},\r\n    \"owner\": {\"type\": \"Relationship\", \"object\": \"urn:testref\"}\r\n\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity to be not found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBNF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBNF\", entityId);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n   \t\"id\": \"urn:ngsi-ld:test4\",\r\n   \t\"type\": \"TestType\",\r\n    \"location\": {\r\n        \"type\": \"GeoProperty\",\r\n        \"value\": { \r\n        \t\"type\": \"Polygon\", \r\n        \t\"coordinates\": [[[49,49],[51,49],[51,51],[49,51],[49,49]]]\r\n        }\r\n    },\r\n   \t\"name\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": \"MERCEDES\"\r\n   \t},\r\n    \"speed\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": 60\r\n   \t},\r\n    \"owner\": {\"type\": \"Relationship\", \"object\": \"urn:testref\"}\r\n\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for entity tbf",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&geoproperty=location&georel=intersects&geometry=Polygon&coordinates=[[[79,79],[81,79],[81,81],[79,81],[79,79]]]",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "geoproperty",
																			"value": "location"
																		},
																		{
																			"key": "georel",
																			"value": "intersects"
																		},
																		{
																			"key": "geometry",
																			"value": "Polygon"
																		},
																		{
																			"key": "coordinates",
																			"value": "[[[79,79],[81,79],[81,81],[79,81],[79,79]]]"
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBF}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBNF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});\r",
																			"pm.collectionVariables.clear();"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBNF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBNF}}"
																	]
																}
															},
															"response": []
														}
													]
												},
												{
													"name": "Disjoint",
													"item": [
														{
															"name": "Create Simple Entity to be found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBF\", entityId);\r",
																			"pm.collectionVariables.set(\"entityTypeTBF\", payloadBody.type);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n   \t\"id\": \"urn:ngsi-ld:test3\",\r\n   \t\"type\": \"TestType\",\r\n    \"location\": {\r\n        \"type\": \"GeoProperty\",\r\n        \"value\": { \r\n        \t\"type\": \"Polygon\", \r\n        \t\"coordinates\": [[[79,79],[81,79],[81,81],[79,81],[79,79]]]\r\n        }\r\n    },\r\n   \t\"name\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": \"MERCEDES\"\r\n   \t},\r\n    \"speed\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": 60\r\n   \t},\r\n    \"owner\": {\"type\": \"Relationship\", \"object\": \"urn:testref\"}\r\n\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity to be not found",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"createdTBNF\", payloadBody);\r",
																			"pm.collectionVariables.set(\"entityIdTBNF\", entityId);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n   \t\"id\": \"urn:ngsi-ld:test4\",\r\n   \t\"type\": \"TestType\",\r\n    \"location\": {\r\n        \"type\": \"GeoProperty\",\r\n        \"value\": { \r\n        \t\"type\": \"Polygon\", \r\n        \t\"coordinates\": [[[49,49],[51,49],[51,51],[49,51],[49,49]]]\r\n        }\r\n    },\r\n   \t\"name\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": \"MERCEDES\"\r\n   \t},\r\n    \"speed\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": 60\r\n   \t},\r\n    \"owner\": {\"type\": \"Relationship\", \"object\": \"urn:testref\"}\r\n\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Query for entity tbf",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 200\", function () {\r",
																			"    pm.response.to.have.status(200);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																			"    var jsonData = pm.response.json();\r",
																			"    pm.expect(jsonData.length).to.eql(1);\r",
																			"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																			"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "GET",
																"header": [
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"url": {
																	"raw": "{{query-manager}}/ngsi-ld/v1/entities?type={{entityTypeTBF}}&geoproperty=location&georel=disjoint&geometry=Polygon&coordinates=[[[49,49],[51,49],[51,51],[49,51],[49,49]]]",
																	"host": [
																		"{{query-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	],
																	"query": [
																		{
																			"key": "type",
																			"value": "{{entityTypeTBF}}"
																		},
																		{
																			"key": "geoproperty",
																			"value": "location"
																		},
																		{
																			"key": "georel",
																			"value": "disjoint"
																		},
																		{
																			"key": "geometry",
																			"value": "Polygon"
																		},
																		{
																			"key": "coordinates",
																			"value": "[[[49,49],[51,49],[51,51],[49,51],[49,49]]]"
																		}
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBF}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity TBNF",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});\r",
																			"pm.collectionVariables.clear();"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdTBNF}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityIdTBNF}}"
																	]
																}
															},
															"response": []
														}
													]
												}
											]
										},
										{
											"name": "Query with scopes",
											"item": [
												{
													"name": "Create Simple Entity single 4 level scope",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"if(pm.response.body !== null){\r",
																	"    console.log(\"Response\" + pm.response.body);\r",
																	"}\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created4level\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId4level\", entityId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"scope\": \"/abc/def/ghi/jkl\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Simple Entity single 4 level scope not found",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"if(pm.response.body !== null){\r",
																	"    console.log(\"Response\" + pm.response.body);\r",
																	"}\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created4levelnotfound\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId4levelnotfound\", entityId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity2\",\r\n    \"type\": \"TestType\",\r\n    \"scope\": \"/nmo/pqr/stu/vwx\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Simple Entity single 2 level scope",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created2level\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId2level\", entityId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity3\",\r\n    \"type\": \"TestType\",\r\n    \"scope\": \"/abc/def\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Simple Entity single 2 level scope not found",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created2levelnotfound\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId2levelnotfound\", entityId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity4\",\r\n    \"type\": \"TestType\",\r\n    \"scope\": \"/nmo/pqr\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Simple Entity single 1 level scope",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created1level\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId1level\", entityId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity5\",\r\n    \"type\": \"TestType\",\r\n    \"scope\": \"/abc\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Simple Entity single 1 level scope not found",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created1levelnotfound\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityId1levelnotfound\", entityId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity6\",\r\n    \"type\": \"TestType\",\r\n    \"scope\": \"/nmo\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Simple Entity multi scope",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"createdmulti\", payloadBody);\r",
																	"pm.collectionVariables.set(\"entityIdmulti\", entityId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity7\",\r\n    \"type\": \"TestType\",\r\n    \"scope\": [\"/abc/def/ghi/jkl\",\"/nmo/pqr/stu/vwx\"],\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Query scope hash test first level",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"\r",
																	"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData.length).to.eql(4);\r",
																	"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"created4level\"));\r",
																	"    pm.expect(jsonData[1]).to.eql(pm.collectionVariables.get(\"created2level\"));\r",
																	"    pm.expect(jsonData[2]).to.eql(pm.collectionVariables.get(\"created1level\"));\r",
																	"    pm.expect(jsonData[3]).to.eql(pm.collectionVariables.get(\"createdmulti\"));\r",
																	"    \r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities?type=TestType&scopeQ=/abc/%23",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															],
															"query": [
																{
																	"key": "type",
																	"value": "TestType"
																},
																{
																	"key": "scopeQ",
																	"value": "/abc/%23"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Query scope hash test second level",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"\r",
																	"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData.length).to.eql(3);\r",
																	"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"created4level\"));\r",
																	"    pm.expect(jsonData[1]).to.eql(pm.collectionVariables.get(\"created2level\"));\r",
																	"    pm.expect(jsonData[2]).to.eql(pm.collectionVariables.get(\"createdmulti\"));\r",
																	"    \r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities?type=TestType&scopeQ=/abc/def/%23",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															],
															"query": [
																{
																	"key": "type",
																	"value": "TestType"
																},
																{
																	"key": "scopeQ",
																	"value": "/abc/def/%23"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Query scope plus test second level",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"\r",
																	"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData.length).to.eql(2);\r",
																	"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"created4level\"));\r",
																	"    pm.expect(jsonData[1]).to.eql(pm.collectionVariables.get(\"createdmulti\"));\r",
																	"    \r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities?type=TestType&scopeQ=/abc/def/%2B/jkl",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															],
															"query": [
																{
																	"key": "type",
																	"value": "TestType"
																},
																{
																	"key": "scopeQ",
																	"value": "/abc/def/%2B/jkl"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Query scope test or 2 levels",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"\r",
																	"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData.length).to.eql(2);\r",
																	"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"created2level\"));\r",
																	"    pm.expect(jsonData[1]).to.eql(pm.collectionVariables.get(\"created2levelnotfound\"));\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities?type=TestType&scopeQ=/abc/def%7C/nmo/pqr",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															],
															"query": [
																{
																	"key": "type",
																	"value": "TestType"
																},
																{
																	"key": "scopeQ",
																	"value": "/abc/def%7C/nmo/pqr"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Query scope test and 4 levels",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"\r",
																	"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData.length).to.eql(1);\r",
																	"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdmulti\"));\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities?type=TestType&scopeQ=/abc/def/ghi/jkl%3B/nmo/pqr/stu/vwx",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															],
															"query": [
																{
																	"key": "type",
																	"value": "TestType"
																},
																{
																	"key": "scopeQ",
																	"value": "/abc/def/ghi/jkl%3B/nmo/pqr/stu/vwx"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Query scope test or hash and plus",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"\r",
																	"pm.test(\"Validate that result on contains entity to be found\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData.length).to.eql(4);\r",
																	"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdmulti\"));\r",
																	"    pm.expect(jsonData[1]).to.eql(pm.collectionVariables.get(\"created4levelnotfound\"));\r",
																	"    pm.expect(jsonData[2]).to.eql(pm.collectionVariables.get(\"created2levelnotfound\"));\r",
																	"    pm.expect(jsonData[3]).to.eql(pm.collectionVariables.get(\"created4level\"));\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities?type=TestType&scopeQ=/abc/def/%2B/jkl%7C/nmo/pqr/%23",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															],
															"query": [
																{
																	"key": "type",
																	"value": "TestType"
																},
																{
																	"key": "scopeQ",
																	"value": "/abc/def/%2B/jkl%7C/nmo/pqr/%23"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity 4 level",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId4level}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId4level}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity 4 level not found",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId4levelnotfound}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId4levelnotfound}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity 2 level",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId2level}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId2level}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity 2 level not found",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId2levelnotfound}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId2levelnotfound}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity 1 level not found",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId1levelnotfound}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId1levelnotfound}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity 1 level",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId1level}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId1level}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity multi",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityIdmulti}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityIdmulti}}"
															]
														}
													},
													"response": []
												}
											]
										}
									]
								}
							]
						},
						{
							"name": "/subscriptions",
							"item": [
								{
									"name": "Subscriptions Create Tests",
									"item": [
										{
											"name": "no @context",
											"item": [
												{
													"name": "Create Subscription with no @context",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"var subId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"subId\", subId);\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(subId);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:Subscription:storeSubscription4\",\r\n   \t\"type\": \"Subscription\",\r\n   \t\"entities\": [\r\n\t\t{\r\n\t\t\t\"type\": \"Test2\"\r\n   \t\t}\r\n\t],\r\n    \"q\": \"speed>90\",\r\n    \"notification\": {\r\n       \t\"format\": \"normalized\",\r\n       \t\"endpoint\": {\r\n          \t\"uri\": \"http://localhost:8080\",\r\n          \t\"accept\": \"application/json\"\r\n       \t}\r\n    }\r\n}"
														},
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions"
															]
														}
													},
													"response": []
												},
												{
													"name": "Retrieve sub and validate",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"created\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    delete jsonData['isActive'];\r",
																	"    delete jsonData['status'];\r",
																	"    console.log(\"expected: \" + JSON.stringify(expected));\r",
																	"    console.log(\"received: \" + JSON.stringify(jsonData));\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															],
															"query": [
																{
																	"key": "",
																	"value": null,
																	"disabled": true
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete subscription",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "@context in body",
											"item": [
												{
													"name": "Create Subscription with @context in body",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"var subId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"subId\", subId);\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"@context\", payloadBody[\"@context\"][0]);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(subId);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:Subscription:storeSubscription4\",\r\n   \t\"type\": \"Subscription\",\r\n   \t\"entities\": [\r\n\t\t{\r\n\t\t\t\"type\": \"Test2\"\r\n   \t\t}\r\n\t],\r\n    \"q\": \"speed>90\",\r\n    \"notification\": {\r\n       \t\"format\": \"normalized\",\r\n       \t\"endpoint\": {\r\n          \t\"uri\": \"http://localhost:8080\",\r\n          \t\"accept\": \"application/json\"\r\n       \t}\r\n    },\r\n    \"@context\": [\"https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json\", \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context-v1.3.jsonld\"]\r\n}"
														},
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions"
															]
														}
													},
													"response": []
												},
												{
													"name": "Retrieve sub and validate",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"created\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    delete jsonData['isActive'];\r",
																	"    delete jsonData['status'];\r",
																	"    console.log(\"expected: \" + JSON.stringify(expected));\r",
																	"    console.log(\"received: \" + JSON.stringify(jsonData));\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<{{@context}}>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"',",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															],
															"query": [
																{
																	"key": "",
																	"value": null,
																	"disabled": true
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete subscription",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "@context in Link",
											"item": [
												{
													"name": "Create Subscription with @context in link",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var subId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"subId\", subId);\r",
																	"pm.collectionVariables.set(\"link\", pm.request.headers.get(\"Link\"));\r",
																	"\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(subId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:Subscription:storeSubscription4\",\r\n   \t\"type\": \"Subscription\",\r\n   \t\"entities\": [\r\n\t\t{\r\n\t\t\t\"type\": \"Test2\"\r\n   \t\t}\r\n\t],\r\n    \"q\": \"speed>90\",\r\n    \"notification\": {\r\n       \t\"format\": \"normalized\",\r\n       \t\"endpoint\": {\r\n          \t\"uri\": \"http://localhost:8080\",\r\n          \t\"accept\": \"application/json\"\r\n       \t}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions"
															]
														}
													},
													"response": []
												},
												{
													"name": "Retrieve sub and validate",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"created\");\r",
																	"var expectedLink = pm.collectionVariables.get(\"link\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    delete jsonData['isActive'];\r",
																	"    delete jsonData['status'];\r",
																	"    console.log(\"expected: \" + JSON.stringify(expected));\r",
																	"    console.log(\"received: \" + JSON.stringify(jsonData));\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});\r",
																	"pm.test(\"Validate Link header\", function () {\r",
																	"    var headers = pm.response.headers.all();\r",
																	"    var links = []\r",
																	"    headers.forEach(function(itm, idx){\r",
																	"        if(itm.key == \"Link\"){\r",
																	"            links.push(itm.value);\r",
																	"        }\r",
																	"    });\r",
																	"    console.log(\"expected Link: \" + expectedLink);\r",
																	"    console.log(\"received Links: \" + links);\r",
																	"    pm.expect(links).to.include(expectedLink);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "{{link}}",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete subscription",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															]
														}
													},
													"response": []
												}
											]
										}
									]
								},
								{
									"name": "Subscriptions Update Tests",
									"item": [
										{
											"name": "no @context",
											"item": [
												{
													"name": "Create Subscription with no @context",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"var subId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"subId\", subId);\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(subId);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:Subscription:storeSubscription4\",\r\n   \t\"type\": \"Subscription\",\r\n   \t\"entities\": [\r\n\t\t{\r\n\t\t\t\"type\": \"Test2\"\r\n   \t\t}\r\n\t],\r\n    \"q\": \"speed>90\",\r\n    \"notification\": {\r\n       \t\"format\": \"normalized\",\r\n       \t\"endpoint\": {\r\n          \t\"uri\": \"http://localhost:8080\",\r\n          \t\"accept\": \"application/json\"\r\n       \t}\r\n    }\r\n}"
														},
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions"
															]
														}
													},
													"response": []
												},
												{
													"name": "Retrieve sub and validate",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"created\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    delete jsonData['isActive'];\r",
																	"    delete jsonData['status'];\r",
																	"    console.log(\"expected: \" + JSON.stringify(expected));\r",
																	"    console.log(\"received: \" + JSON.stringify(jsonData));\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															],
															"query": [
																{
																	"key": "",
																	"value": null,
																	"disabled": true
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Update Subscription with no @context Copy",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"var subId = payloadBody.id;\r",
																	"\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:Subscription:storeSubscription4\",\r\n   \t\"type\": \"Subscription\",\r\n   \t\"entities\": [\r\n\t\t{\r\n\t\t\t\"type\": \"Test3\"\r\n   \t\t}\r\n\t],\r\n    \"q\": \"speed>100\",\r\n    \"notification\": {\r\n       \t\"format\": \"normalized\",\r\n       \t\"endpoint\": {\r\n          \t\"uri\": \"http://localhost:8080\",\r\n          \t\"accept\": \"application/json\"\r\n       \t}\r\n    }\r\n}"
														},
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Retrieve sub and validate update",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"updated\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    delete jsonData['isActive'];\r",
																	"    delete jsonData['status'];\r",
																	"    console.log(\"expected: \" + JSON.stringify(expected));\r",
																	"    console.log(\"received: \" + JSON.stringify(jsonData));\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															],
															"query": [
																{
																	"key": "",
																	"value": null,
																	"disabled": true
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete subscription",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "@context in body",
											"item": [
												{
													"name": "Create Subscription with @context in body",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"var subId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"subId\", subId);\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"@context\", payloadBody[\"@context\"][0]);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(subId);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:Subscription:storeSubscription4\",\r\n   \t\"type\": \"Subscription\",\r\n   \t\"entities\": [\r\n\t\t{\r\n\t\t\t\"type\": \"Test2\"\r\n   \t\t}\r\n\t],\r\n    \"q\": \"speed>90\",\r\n    \"notification\": {\r\n       \t\"format\": \"normalized\",\r\n       \t\"endpoint\": {\r\n          \t\"uri\": \"http://localhost:8080\",\r\n          \t\"accept\": \"application/json\"\r\n       \t}\r\n    },\r\n    \"@context\": [\"https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json\", \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context-v1.3.jsonld\"]\r\n}"
														},
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions"
															]
														}
													},
													"response": []
												},
												{
													"name": "Retrieve sub and validate",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"created\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    delete jsonData['isActive'];\r",
																	"    delete jsonData['status'];\r",
																	"    console.log(\"expected: \" + JSON.stringify(expected));\r",
																	"    console.log(\"received: \" + JSON.stringify(jsonData));\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<{{@context}}>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"',",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															],
															"query": [
																{
																	"key": "",
																	"value": null,
																	"disabled": true
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Subscription with @context in body Copy",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"var subId = payloadBody.id;\r",
																	"\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:Subscription:storeSubscription4\",\r\n   \t\"type\": \"Subscription\",\r\n   \t\"entities\": [\r\n\t\t{\r\n\t\t\t\"type\": \"Test3\"\r\n   \t\t}\r\n\t],\r\n    \"q\": \"speed>100\",\r\n    \"notification\": {\r\n       \t\"format\": \"normalized\",\r\n       \t\"endpoint\": {\r\n          \t\"uri\": \"http://localhost:8080\",\r\n          \t\"accept\": \"application/json\"\r\n       \t}\r\n    },\r\n    \"@context\": [\"https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json\", \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context-v1.3.jsonld\"]\r\n}"
														},
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Retrieve sub and validate Copy",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"updated\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    delete jsonData['isActive'];\r",
																	"    delete jsonData['status'];\r",
																	"    console.log(\"expected: \" + JSON.stringify(expected));\r",
																	"    console.log(\"received: \" + JSON.stringify(jsonData));\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<{{@context}}>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"',",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															],
															"query": [
																{
																	"key": "",
																	"value": null,
																	"disabled": true
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete subscription",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "@context in Link",
											"item": [
												{
													"name": "Create Subscription with @context in link",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var subId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"subId\", subId);\r",
																	"pm.collectionVariables.set(\"link\", pm.request.headers.get(\"Link\"));\r",
																	"\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(subId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:Subscription:storeSubscription4\",\r\n   \t\"type\": \"Subscription\",\r\n   \t\"entities\": [\r\n\t\t{\r\n\t\t\t\"type\": \"Test2\"\r\n   \t\t}\r\n\t],\r\n    \"q\": \"speed>90\",\r\n    \"notification\": {\r\n       \t\"format\": \"normalized\",\r\n       \t\"endpoint\": {\r\n          \t\"uri\": \"http://localhost:8080\",\r\n          \t\"accept\": \"application/json\"\r\n       \t}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions"
															]
														}
													},
													"response": []
												},
												{
													"name": "Retrieve sub and validate",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"created\");\r",
																	"var expectedLink = pm.collectionVariables.get(\"link\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    delete jsonData['isActive'];\r",
																	"    delete jsonData['status'];\r",
																	"    console.log(\"expected: \" + JSON.stringify(expected));\r",
																	"    console.log(\"received: \" + JSON.stringify(jsonData));\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});\r",
																	"pm.test(\"Validate Link header\", function () {\r",
																	"    var headers = pm.response.headers.all();\r",
																	"    var links = []\r",
																	"    headers.forEach(function(itm, idx){\r",
																	"        if(itm.key == \"Link\"){\r",
																	"            links.push(itm.value);\r",
																	"        }\r",
																	"    });\r",
																	"    console.log(\"expected Link: \" + expectedLink);\r",
																	"    console.log(\"received Links: \" + links);\r",
																	"    pm.expect(links).to.include(expectedLink);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "{{link}}",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Update Subscription with @context in link",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var subId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"updated\", payloadBody);\r",
																	"\r",
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "PATCH",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:Subscription:storeSubscription4\",\r\n   \t\"type\": \"Subscription\",\r\n   \t\"entities\": [\r\n\t\t{\r\n\t\t\t\"type\": \"Test3\"\r\n   \t\t}\r\n\t],\r\n    \"q\": \"speed>100\",\r\n    \"notification\": {\r\n       \t\"format\": \"normalized\",\r\n       \t\"endpoint\": {\r\n          \t\"uri\": \"http://localhost:8080\",\r\n          \t\"accept\": \"application/json\"\r\n       \t}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Retrieve sub and validate update",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"updated\");\r",
																	"var expectedLink = pm.collectionVariables.get(\"link\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    delete jsonData['isActive'];\r",
																	"    delete jsonData['status'];\r",
																	"    console.log(\"expected: \" + JSON.stringify(expected));\r",
																	"    console.log(\"received: \" + JSON.stringify(jsonData));\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});\r",
																	"pm.test(\"Validate Link header\", function () {\r",
																	"    var headers = pm.response.headers.all();\r",
																	"    var links = []\r",
																	"    headers.forEach(function(itm, idx){\r",
																	"        if(itm.key == \"Link\"){\r",
																	"            links.push(itm.value);\r",
																	"        }\r",
																	"    });\r",
																	"    console.log(\"expected Link: \" + expectedLink);\r",
																	"    console.log(\"received Links: \" + links);\r",
																	"    pm.expect(links).to.include(expectedLink);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "{{link}}",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete subscription",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															]
														}
													},
													"response": []
												}
											]
										}
									]
								},
								{
									"name": "Subscriptions Delete Tests",
									"item": []
								},
								{
									"name": "Subscriptions Trigger Tests",
									"item": [
										{
											"name": "Trigger Type Subscription",
											"item": [
												{
													"name": "Create Subscription With Id No Context",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"var subId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"subId\", subId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(subId);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:Subscription:mytest1\",\r\n   \t\"type\": \"Subscription\",\r\n   \t\"entities\": [\r\n\t\t{\r\n\t\t\t\"type\": \"TestType\"\r\n   \t\t}\r\n\t],\r\n    \"notification\": {\r\n       \t\"format\": \"normalized\",\r\n       \t\"endpoint\": {\r\n          \t\"uri\": \"{{notificationserver}}\",\r\n          \t\"accept\": \"application/json\"\r\n       \t}\r\n    }\r\n}\r\n\r\n"
														},
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Simple Entity No Context",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"var subId = pm.collectionVariables.get(\"subId\");\r",
																	"\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"setTimeout(function(){\r",
																	"    var notificationServer = pm.environment.get(\"notificationserver-external\");\r",
																	"    pm.sendRequest(notificationServer + \"/\" + subId, function (err, response) {\r",
																	"            pm.test(\"Check for notification\", function () {\r",
																	"            var value = response.json();\r",
																	"            console.log(\"Retrieving notifications from testserver\")\r",
																	"            console.log(notificationServer + \"/\" + subId)\r",
																	"            console.log(value);\r",
																	"            pm.expect(value.length).to.eql(1);\r",
																	"            notification = value[0].body;\r",
																	"            headers = value[0].headers;\r",
																	"            pm.expect(notification.type).to.eql(\"Notification\");\r",
																	"            pm.expect(notification).to.have.property(\"id\");\r",
																	"            pm.expect(notification.data.length).to.eql(1);\r",
																	"            var notificationData = notification.data[0];\r",
																	"            delete notificationData[\"createdAt\"];\r",
																	"            delete notificationData[\"modifiedAt\"];\r",
																	"            console.log(\"expected notification: \" + JSON.stringify(payloadBody));\r",
																	"            console.log(\"received notification: \" + JSON.stringify(notificationData));\r",
																	"            pm.expect(notificationData).to.eql(payloadBody);\r",
																	"            });\r",
																	"        });\r",
																	"        //pm.sendRequest(notificationServer + \"/deleteAll\", function(err, response){});\r",
																	"}, 3000);\r",
																	"    \r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Subcription",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Trigger Q Subscription",
											"item": [
												{
													"name": "Equal Property",
													"item": [
														{
															"name": "Create Subscription With Id No Context",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"var subId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"subId\", subId);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(subId);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:Subscription:mytest2\",\r\n   \t\"type\": \"Subscription\",\r\n   \t\"entities\": [\r\n\t\t{\r\n\t\t\t\"type\": \"TestType\"\r\n   \t\t}\r\n\t],\r\n    \"q\": \"stringproperty==\\\"trigger\\\"\",\r\n    \"notification\": {\r\n       \t\"format\": \"normalized\",\r\n       \t\"endpoint\": {\r\n          \t\"uri\": \"{{notificationserver}}\",\r\n          \t\"accept\": \"application/json\"\r\n       \t}\r\n    }\r\n}\r\n\r\n"
																},
																"url": {
																	"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions",
																	"host": [
																		"{{subscription-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"subscriptions"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity Trigger Notification",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"entityId\", entityId);\r",
																			"var subId = pm.collectionVariables.get(\"subId\");\r",
																			"\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"setTimeout(function(){\r",
																			"    var notificationServer = pm.environment.get(\"notificationserver-external\");\r",
																			"    pm.sendRequest(notificationServer + \"/\" + subId, function (err, response) {\r",
																			"            pm.test(\"Check for notification\", function () {\r",
																			"            var value = response.json();\r",
																			"            console.log(\"Retrieving notifications from testserver\")\r",
																			"            console.log(notificationServer + \"/\" + subId)\r",
																			"            console.log(value);\r",
																			"            pm.expect(value.length).to.eql(1);\r",
																			"            notification = value[0].body;\r",
																			"            headers = value[0].headers;\r",
																			"            pm.expect(notification.type).to.eql(\"Notification\");\r",
																			"            pm.expect(notification).to.have.property(\"id\");\r",
																			"            pm.expect(notification.data.length).to.eql(1);\r",
																			"            var notificationData = notification.data[0];\r",
																			"            delete notificationData[\"createdAt\"];\r",
																			"            delete notificationData[\"modifiedAt\"];\r",
																			"            console.log(\"expected notification: \" + JSON.stringify(payloadBody));\r",
																			"            console.log(\"received notification: \" + JSON.stringify(notificationData));\r",
																			"            pm.expect(notificationData).to.eql(payloadBody);\r",
																			"            });\r",
																			"        });\r",
																			"        //pm.sendRequest(notificationServer + \"/deleteAll\", function(err, response){});\r",
																			"}, 3000);\r",
																			"    \r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"trigger\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityId}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity No Trigger",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"entityId\", entityId);\r",
																			"var subId = pm.collectionVariables.get(\"subId\");\r",
																			"\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"setTimeout(function(){\r",
																			"    var notificationServer = pm.environment.get(\"notificationserver-external\");\r",
																			"    pm.sendRequest(notificationServer + \"/\" + subId, function (err, response) {\r",
																			"            pm.test(\"Check for notification\", function () {\r",
																			"            var value = response.json();\r",
																			"            console.log(\"Retrieving notifications from testserver\")\r",
																			"            console.log(notificationServer + \"/\" + subId)\r",
																			"            console.log(value);\r",
																			"            pm.expect(value.length).to.eql(1);\r",
																			"            });\r",
																			"        });\r",
																			"        //pm.sendRequest(notificationServer + \"/deleteAll\", function(err, response){});\r",
																			"}, 3000);\r",
																			"    \r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n    \"id\": \"urn:test:testentity2\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity No Trigger",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityId}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Subcription",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});\r",
																			"pm.collectionVariables.clear();"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
																	"host": [
																		"{{subscription-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"subscriptions",
																		"{{subId}}"
																	]
																}
															},
															"response": []
														}
													]
												},
												{
													"name": "Equal Relationship",
													"item": [
														{
															"name": "Create Subscription With Id No Context",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"var subId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"subId\", subId);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(subId);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:Subscription:mytest3\",\r\n   \t\"type\": \"Subscription\",\r\n   \t\"entities\": [\r\n\t\t{\r\n\t\t\t\"type\": \"TestType\"\r\n   \t\t}\r\n\t],\r\n    \"q\": \"testref==urn:mytest1\",\r\n    \"notification\": {\r\n       \t\"format\": \"normalized\",\r\n       \t\"endpoint\": {\r\n          \t\"uri\": \"{{notificationserver}}\",\r\n          \t\"accept\": \"application/json\"\r\n       \t}\r\n    }\r\n}\r\n\r\n"
																},
																"url": {
																	"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions",
																	"host": [
																		"{{subscription-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"subscriptions"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity Trigger Notification",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"entityId\", entityId);\r",
																			"var subId = pm.collectionVariables.get(\"subId\");\r",
																			"\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"setTimeout(function(){\r",
																			"    var notificationServer = pm.environment.get(\"notificationserver-external\");\r",
																			"    pm.sendRequest(notificationServer + \"/\" + subId, function (err, response) {\r",
																			"            pm.test(\"Check for notification\", function () {\r",
																			"            var value = response.json();\r",
																			"            console.log(\"Retrieving notifications from testserver\")\r",
																			"            console.log(notificationServer + \"/\" + subId)\r",
																			"            console.log(value);\r",
																			"            pm.expect(value.length).to.eql(1);\r",
																			"            notification = value[0].body;\r",
																			"            headers = value[0].headers;\r",
																			"            pm.expect(notification.type).to.eql(\"Notification\");\r",
																			"            pm.expect(notification).to.have.property(\"id\");\r",
																			"            pm.expect(notification.data.length).to.eql(1);\r",
																			"            var notificationData = notification.data[0];\r",
																			"            delete notificationData[\"createdAt\"];\r",
																			"            delete notificationData[\"modifiedAt\"];\r",
																			"            console.log(\"expected notification: \" + JSON.stringify(payloadBody));\r",
																			"            console.log(\"received notification: \" + JSON.stringify(notificationData));\r",
																			"            pm.expect(notificationData).to.eql(payloadBody);\r",
																			"            });\r",
																			"        });\r",
																			"        //pm.sendRequest(notificationServer + \"/deleteAll\", function(err, response){});\r",
																			"}, 3000);\r",
																			"    \r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"trigger\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testref\": {\"type\": \"Relationship\", \"object\": \"urn:mytest1\"}\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityId}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity No Trigger",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"entityId\", entityId);\r",
																			"var subId = pm.collectionVariables.get(\"subId\");\r",
																			"\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"setTimeout(function(){\r",
																			"    var notificationServer = pm.environment.get(\"notificationserver-external\");\r",
																			"    pm.sendRequest(notificationServer + \"/\" + subId, function (err, response) {\r",
																			"            pm.test(\"Check for notification\", function () {\r",
																			"            var value = response.json();\r",
																			"            console.log(\"Retrieving notifications from testserver\")\r",
																			"            console.log(notificationServer + \"/\" + subId)\r",
																			"            console.log(value);\r",
																			"            pm.expect(value.length).to.eql(1);\r",
																			"            });\r",
																			"        });\r",
																			"        //pm.sendRequest(notificationServer + \"/deleteAll\", function(err, response){});\r",
																			"}, 3000);\r",
																			"    \r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n    \"id\": \"urn:test:testentity2\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity No Trigger",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityId}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Subcription",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});\r",
																			"pm.collectionVariables.clear();"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
																	"host": [
																		"{{subscription-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"subscriptions",
																		"{{subId}}"
																	]
																}
															},
															"response": []
														}
													]
												}
											]
										},
										{
											"name": "Trigger geoQuery",
											"item": [
												{
													"name": "Near",
													"item": [
														{
															"name": "Create Subscription With Id No Context",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"var subId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"subId\", subId);\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(subId);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:Subscription:storeSubscription3\",\r\n   \t\"type\": \"Subscription\",\r\n   \t\"entities\": [\r\n\t\t{\r\n\t\t\t\"type\": \"TestType\"\r\n   \t\t}\r\n\t],\r\n    \"geoQ\": {\"geoproperty\":\"location\", \"georel\":\"near;maxDistance==1500\",\"geometry\":\"Point\",\"coordinates\":[80,80]},\r\n    \"notification\": {\r\n       \t\"format\": \"normalized\",\r\n       \t\"endpoint\": {\r\n          \t\"uri\": \"{{notificationserver}}\",\r\n          \t\"accept\": \"application/json\"\r\n       \t}\r\n    }\r\n}\r\n\r\n"
																},
																"url": {
																	"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions",
																	"host": [
																		"{{subscription-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"subscriptions"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity Trigger Notification",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"entityId\", entityId);\r",
																			"var subId = pm.collectionVariables.get(\"subId\");\r",
																			"\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"setTimeout(function(){\r",
																			"    var notificationServer = pm.environment.get(\"notificationserver-external\");\r",
																			"    pm.sendRequest(notificationServer + \"/\" + subId, function (err, response) {\r",
																			"            pm.test(\"Check for notification\", function () {\r",
																			"            var value = response.json();\r",
																			"            console.log(\"Retrieving notifications from testserver\")\r",
																			"            console.log(notificationServer + \"/\" + subId)\r",
																			"            console.log(value);\r",
																			"            pm.expect(value.length).to.eql(1);\r",
																			"            notification = value[0].body;\r",
																			"            headers = value[0].headers;\r",
																			"            pm.expect(notification.type).to.eql(\"Notification\");\r",
																			"            pm.expect(notification).to.have.property(\"id\");\r",
																			"            pm.expect(notification.data.length).to.eql(1);\r",
																			"            var notificationData = notification.data[0];\r",
																			"            delete notificationData[\"createdAt\"];\r",
																			"            delete notificationData[\"modifiedAt\"];\r",
																			"            console.log(\"expected notification: \" + JSON.stringify(payloadBody));\r",
																			"            console.log(\"received notification: \" + JSON.stringify(notificationData));\r",
																			"            pm.expect(notificationData).to.eql(payloadBody);\r",
																			"            });\r",
																			"        });\r",
																			"        //pm.sendRequest(notificationServer + \"/deleteAll\", function(err, response){});\r",
																			"}, 3000);\r",
																			"    \r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n   \t\"id\": \"urn:ngsi-ld:test3\",\r\n   \t\"type\": \"TestType\",\r\n    \"location\": {\r\n        \"type\": \"GeoProperty\",\r\n        \"value\": { \r\n        \t\"type\": \"Point\", \r\n        \t\"coordinates\": [80, 80.0005] \r\n        }\r\n    },\r\n   \t\"name\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": \"MERCEDES\"\r\n   \t},\r\n    \"speed\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": 60\r\n   \t},\r\n    \"owner\": {\"type\": \"Relationship\", \"object\": \"urn:testref\"}\r\n\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityId}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Create Simple Entity No Trigger",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																			"console.log(payloadBody.id);\r",
																			"var entityId = payloadBody.id;\r",
																			"pm.collectionVariables.set(\"entityId\", entityId);\r",
																			"var subId = pm.collectionVariables.get(\"subId\");\r",
																			"\r",
																			"pm.test(\"Status code is 201\", function () {\r",
																			"    pm.response.to.have.status(201);\r",
																			"});\r",
																			"pm.test(\"Check location header\", function () {\r",
																			"    pm.response.to.have.header(\"Location\");\r",
																			"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																			"});\r",
																			"setTimeout(function(){\r",
																			"    var notificationServer = pm.environment.get(\"notificationserver-external\");\r",
																			"    pm.sendRequest(notificationServer + \"/\" + subId, function (err, response) {\r",
																			"            pm.test(\"Check for notification\", function () {\r",
																			"            var value = response.json();\r",
																			"            console.log(\"Retrieving notifications from testserver\")\r",
																			"            console.log(notificationServer + \"/\" + subId)\r",
																			"            console.log(value);\r",
																			"            pm.expect(value.length).to.eql(1);\r",
																			"            });\r",
																			"        });\r",
																			"        //pm.sendRequest(notificationServer + \"/deleteAll\", function(err, response){});\r",
																			"}, 3000);\r",
																			"    \r",
																			"\r",
																			"\r",
																			""
																		],
																		"type": "text/javascript"
																	}
																},
																{
																	"listen": "prerequest",
																	"script": {
																		"exec": [
																			""
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "POST",
																"header": [
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"type": "default"
																	},
																	{
																		"key": "Accept",
																		"value": "application/json",
																		"type": "default",
																		"disabled": true
																	}
																],
																"body": {
																	"mode": "raw",
																	"raw": "{\r\n   \t\"id\": \"urn:ngsi-ld:test4\",\r\n   \t\"type\": \"TestType\",\r\n    \"location\": {\r\n        \"type\": \"GeoProperty\",\r\n        \"value\": { \r\n        \t\"type\": \"Point\", \r\n        \t\"coordinates\": [50, 50.0005] \r\n        }\r\n    },\r\n   \t\"name\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": \"MERCEDES\"\r\n   \t},\r\n    \"speed\": {\r\n       \t\"type\": \"Property\",\r\n       \t\"value\": 60\r\n   \t},\r\n    \"owner\": {\"type\": \"Relationship\", \"object\": \"urn:testref\"}\r\n\r\n}",
																	"options": {
																		"raw": {
																			"language": "json"
																		}
																	}
																},
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Entity No Trigger",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
																	"host": [
																		"{{entity-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"entities",
																		"{{entityId}}"
																	]
																}
															},
															"response": []
														},
														{
															"name": "Delete Subcription",
															"event": [
																{
																	"listen": "test",
																	"script": {
																		"exec": [
																			"pm.test(\"Status code is 204\", function () {\r",
																			"    pm.response.to.have.status(204);\r",
																			"});\r",
																			"pm.collectionVariables.clear();"
																		],
																		"type": "text/javascript"
																	}
																}
															],
															"request": {
																"method": "DELETE",
																"header": [],
																"url": {
																	"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
																	"host": [
																		"{{subscription-manager}}"
																	],
																	"path": [
																		"ngsi-ld",
																		"v1",
																		"subscriptions",
																		"{{subId}}"
																	]
																}
															},
															"response": []
														}
													]
												}
											]
										},
										{
											"name": "Trigger watchedAttrs",
											"item": [
												{
													"name": "Create Subscription With Id No Context",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"var subId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"subId\", subId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(subId);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:Subscription:mytest6\",\r\n   \t\"type\": \"Subscription\",\r\n   \t\"entities\": [\r\n\t\t{\r\n\t\t\t\"type\": \"TestType\"\r\n   \t\t}\r\n\t],\r\n    \"watchedAttributes\": [\"mywatchedprop\"],\r\n    \"notification\": {\r\n       \t\"format\": \"normalized\",\r\n       \t\"endpoint\": {\r\n          \t\"uri\": \"{{notificationserver}}\",\r\n          \t\"accept\": \"application/json\"\r\n       \t}\r\n    }\r\n}\r\n\r\n"
														},
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Simple Entity Trigger Notification",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"var subId = pm.collectionVariables.get(\"subId\");\r",
																	"\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"setTimeout(function(){\r",
																	"    var notificationServer = pm.environment.get(\"notificationserver-external\");\r",
																	"    pm.sendRequest(notificationServer + \"/\" + subId, function (err, response) {\r",
																	"            pm.test(\"Check for notification\", function () {\r",
																	"            var value = response.json();\r",
																	"            console.log(\"Retrieving notifications from testserver\")\r",
																	"            console.log(notificationServer + \"/\" + subId)\r",
																	"            console.log(value);\r",
																	"            pm.expect(value.length).to.eql(1);\r",
																	"            notification = value[0].body;\r",
																	"            headers = value[0].headers;\r",
																	"            pm.expect(notification.type).to.eql(\"Notification\");\r",
																	"            pm.expect(notification).to.have.property(\"id\");\r",
																	"            pm.expect(notification.data.length).to.eql(1);\r",
																	"            var notificationData = notification.data[0];\r",
																	"            delete notificationData[\"createdAt\"];\r",
																	"            delete notificationData[\"modifiedAt\"];\r",
																	"            console.log(\"expected notification: \" + JSON.stringify(payloadBody));\r",
																	"            console.log(\"received notification: \" + JSON.stringify(notificationData));\r",
																	"            pm.expect(notificationData).to.eql(payloadBody);\r",
																	"            });\r",
																	"        });\r",
																	"        //pm.sendRequest(notificationServer + \"/deleteAll\", function(err, response){});\r",
																	"}, 3000);\r",
																	"    \r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"mywatchedprop\": {\"type\": \"Property\", \"value\": \"trigger\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testref\": {\"type\": \"Relationship\", \"object\": \"urn:mytest1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Simple Entity No Trigger",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"var subId = pm.collectionVariables.get(\"subId\");\r",
																	"\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(entityId);\r",
																	"});\r",
																	"setTimeout(function(){\r",
																	"    var notificationServer = pm.environment.get(\"notificationserver-external\");\r",
																	"    pm.sendRequest(notificationServer + \"/\" + subId, function (err, response) {\r",
																	"            pm.test(\"Check for notification\", function () {\r",
																	"            var value = response.json();\r",
																	"            console.log(\"Retrieving notifications from testserver\")\r",
																	"            console.log(notificationServer + \"/\" + subId)\r",
																	"            console.log(value);\r",
																	"            pm.expect(value.length).to.eql(1);\r",
																	"            });\r",
																	"        });\r",
																	"        //pm.sendRequest(notificationServer + \"/deleteAll\", function(err, response){});\r",
																	"}, 3000);\r",
																	"    \r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity2\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity No Trigger",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Subcription",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{subscription-manager}}/ngsi-ld/v1/subscriptions/{{subId}}",
															"host": [
																"{{subscription-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"subscriptions",
																"{{subId}}"
															]
														}
													},
													"response": []
												}
											]
										}
									]
								}
							]
						},
						{
							"name": "/csourceRegistrations",
							"item": [
								{
									"name": "Registration Create Tests",
									"item": [
										{
											"name": "No Context",
											"item": [
												{
													"name": "Create Simple Registry Entry No Context",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var cSourceId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"cSourceId\", cSourceId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(cSourceId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:ContextSourceRegistration:csr1a3456\",\r\n\t\"type\": \"ContextSourceRegistration\",\r\n\t\"information\": [{\r\n\t\t\t\"entities\": [{\r\n\t\t\t\t\"type\": \"Test2\"\r\n\t\t\t}]\r\n\t\t}\r\n\t],\r\n\t\"endpoint\": \"http://localhost:9080\"\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{registry-manager}}/ngsi-ld/v1/csourceRegistrations",
															"host": [
																"{{registry-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"csourceRegistrations"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get created registration and validate content",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"created\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    console.log(\"Expected: \" + expected);\r",
																	"    console.log(\"Received: \" + jsonData);\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{registry-manager}}/ngsi-ld/v1/csourceRegistrations/{{cSourceId}}",
															"host": [
																"{{registry-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"csourceRegistrations",
																"{{cSourceId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete registration",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{registry-manager}}/ngsi-ld/v1/csourceRegistrations/{{cSourceId}}",
															"host": [
																"{{registry-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"csourceRegistrations",
																"{{cSourceId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Context In Body",
											"item": [
												{
													"name": "Create simple registration with @context in body",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var cSourceId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"cSourceId\", cSourceId);\r",
																	"pm.collectionVariables.set(\"@context\", payloadBody[\"@context\"][0]);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(cSourceId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:ContextSourceRegistration:csr1a3456\",\r\n\t\"type\": \"ContextSourceRegistration\",\r\n\t\"information\": [{\r\n\t\t\t\"entities\": [{\r\n\t\t\t\t\"type\": \"Test2\"\r\n\t\t\t}]\r\n\t\t}\r\n\t],\r\n\t\"endpoint\": \"http://localhost:9080\",\r\n    \"@context\": [\"https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json\", \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context-v1.3.jsonld\"]\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{registry-manager}}/ngsi-ld/v1/csourceRegistrations",
															"host": [
																"{{registry-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"csourceRegistrations"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get created registration and validate",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"created\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    console.log(\"Expected: \" + JSON.stringify(expected));\r",
																	"    console.log(\"Received: \" + JSON.stringify(jsonData));\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<{{@context}}>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"',",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{registry-manager}}/ngsi-ld/v1/csourceRegistrations/{{cSourceId}}",
															"host": [
																"{{registry-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"csourceRegistrations",
																"{{cSourceId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete registration",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{registry-manager}}/ngsi-ld/v1/csourceRegistrations/{{cSourceId}}",
															"host": [
																"{{registry-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"csourceRegistrations",
																"{{cSourceId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Context in Link",
											"item": [
												{
													"name": "Create Simple Regisration With @context in link",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var cSourceId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"created\", payloadBody);\r",
																	"pm.collectionVariables.set(\"cSourceId\", cSourceId);\r",
																	"pm.collectionVariables.set(\"link\", pm.request.headers.get(\"Link\"));\r",
																	"\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(cSourceId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "<https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:ContextSourceRegistration:csr1a3456\",\r\n\t\"type\": \"ContextSourceRegistration\",\r\n\t\"information\": [{\r\n\t\t\t\"entities\": [{\r\n\t\t\t\t\"type\": \"Test2\"\r\n\t\t\t}]\r\n\t\t}\r\n\t],\r\n\t\"endpoint\": \"http://localhost:9080\"\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{registry-manager}}/ngsi-ld/v1/csourceRegistrations",
															"host": [
																"{{registry-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"csourceRegistrations"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Created Registration and Validate content",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var expected = pm.collectionVariables.get(\"created\");\r",
																	"var expectedLink = pm.collectionVariables.get(\"link\");\r",
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"pm.test(\"Validate content\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData).to.eql(expected);\r",
																	"});\r",
																	"pm.test(\"Validate Link header\", function () {\r",
																	"    var headers = pm.response.headers.all();\r",
																	"    var links = []\r",
																	"    headers.forEach(function(itm, idx){\r",
																	"        if(itm.key == \"Link\"){\r",
																	"            links.push(itm.value);\r",
																	"        }\r",
																	"    });\r",
																	"    console.log(\"expected Link: \" + expectedLink);\r",
																	"    console.log(\"received Links: \" + links);\r",
																	"    pm.expect(links).to.include(expectedLink);\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Link",
																"value": "{{link}}",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{registry-manager}}/ngsi-ld/v1/csourceRegistrations/{{cSourceId}}",
															"host": [
																"{{registry-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"csourceRegistrations",
																"{{cSourceId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete Entity",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{registry-manager}}/ngsi-ld/v1/csourceRegistrations/{{cSourceId}}",
															"host": [
																"{{registry-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"csourceRegistrations",
																"{{cSourceId}}"
															]
														}
													},
													"response": []
												}
											]
										}
									]
								},
								{
									"name": "Registration Queries",
									"item": [
										{
											"name": "Type",
											"item": [
												{
													"name": "Create Simple Registry Entry TBF",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var cSourceId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"createdTBF\", payloadBody);\r",
																	"pm.collectionVariables.set(\"cSourceIdTBF\", cSourceId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(cSourceId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:ContextSourceRegistration:csr1a3456\",\r\n\t\"type\": \"ContextSourceRegistration\",\r\n\t\"information\": [{\r\n\t\t\t\"entities\": [{\r\n\t\t\t\t\"type\": \"Test2\"\r\n\t\t\t}]\r\n\t\t}\r\n\t],\r\n\t\"endpoint\": \"http://localhost:9080\"\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{registry-manager}}/ngsi-ld/v1/csourceRegistrations",
															"host": [
																"{{registry-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"csourceRegistrations"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Simple Registry Entry TBNF",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var cSourceId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"createdTBNF\", payloadBody);\r",
																	"pm.collectionVariables.set(\"cSourceIdTBNF\", cSourceId);\r",
																	"pm.test(\"Status code is 201\", function () {\r",
																	"    pm.response.to.have.status(201);\r",
																	"});\r",
																	"pm.test(\"Check location header\", function () {\r",
																	"    pm.response.to.have.header(\"Location\");\r",
																	"    pm.expect(pm.response.headers.get(\"Location\")).to.include(cSourceId);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"id\": \"urn:ngsi-ld:ContextSourceRegistration:csr1a34561\",\r\n\t\"type\": \"ContextSourceRegistration\",\r\n\t\"information\": [{\r\n\t\t\t\"entities\": [{\r\n\t\t\t\t\"type\": \"Test3\"\r\n\t\t\t}]\r\n\t\t}\r\n\t],\r\n\t\"endpoint\": \"http://localhost:9080\"\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{registry-manager}}/ngsi-ld/v1/csourceRegistrations",
															"host": [
																"{{registry-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"csourceRegistrations"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get created registration and validate content",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {\r",
																	"    pm.response.to.have.status(200);\r",
																	"});\r",
																	"\r",
																	"pm.test(\"Validate that result on contains registry to be found\", function () {\r",
																	"    var jsonData = pm.response.json();\r",
																	"    pm.expect(jsonData.length).to.eql(1);\r",
																	"    pm.expect(jsonData[0]).to.eql(pm.collectionVariables.get(\"createdTBF\"));\r",
																	"    pm.expect(jsonData[0]).to.not.eql(pm.collectionVariables.get(\"createdTBNF\"));\r",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{registry-manager}}/ngsi-ld/v1/csourceRegistrations?type=Test2",
															"host": [
																"{{registry-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"csourceRegistrations"
															],
															"query": [
																{
																	"key": "type",
																	"value": "Test2"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete registration TBF",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{registry-manager}}/ngsi-ld/v1/csourceRegistrations/{{cSourceIdTBF}}",
															"host": [
																"{{registry-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"csourceRegistrations",
																"{{cSourceIdTBF}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Delete registration TBNF",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 204\", function () {\r",
																	"    pm.response.to.have.status(204);\r",
																	"});\r",
																	"pm.collectionVariables.clear();"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "DELETE",
														"header": [],
														"url": {
															"raw": "{{registry-manager}}/ngsi-ld/v1/csourceRegistrations/{{cSourceIdTBNF}}",
															"host": [
																"{{registry-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"csourceRegistrations",
																"{{cSourceIdTBNF}}"
															]
														}
													},
													"response": []
												}
											]
										}
									]
								}
							]
						},
						{
							"name": "/csourceSubscriptions",
							"item": []
						},
						{
							"name": "/temporal/entities",
							"item": []
						},
						{
							"name": "/entityOperations",
							"item": []
						},
						{
							"name": "/attributes",
							"item": []
						},
						{
							"name": "/types",
							"item": []
						}
					]
				},
				{
					"name": "Tenant",
					"item": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Error Tests",
			"item": [
				{
					"name": "No Tenant",
					"item": [
						{
							"name": "/entities",
							"item": [
								{
									"name": "Entity Create Tests",
									"item": [
										{
											"name": "Reject entity create application/ld+json with no @context in body",
											"item": [
												{
													"name": "Create Simple Entity With no @context in body",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.test(\"Status code is 400\", function () {\r",
																	"    pm.response.to.have.status(400);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"}\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Validate that entity was not created",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"\r",
																	"pm.test(\"Status code is 404\", function () {\r",
																	"    pm.response.to.have.status(404);\r",
																	"});\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Reject entity create application/ld+json with @context in Link Header",
											"item": [
												{
													"name": "Create Simple Entity With no @context in body",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.test(\"Status code is 400\", function () {\r",
																	"    pm.response.to.have.status(400);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															},
															{
																"key": "Link",
																"value": "<https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"",
																"type": "default"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:test:testentity1\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"},\r\n    \"@context\": \"https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json\"\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Validate that entity was not created",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"\r",
																	"pm.test(\"Status code is 404\", function () {\r",
																	"    pm.response.to.have.status(404);\r",
																	"});\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Reject entity create with none URI id",
											"item": [
												{
													"name": "Create Simple Entity With invalid id",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.test(\"Status code is 400\", function () {\r",
																	"    pm.response.to.have.status(400);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															},
															{
																"key": "",
																"value": "",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"notauri\",\r\n    \"type\": \"TestType\",\r\n    \"stringproperty\": {\"type\": \"Property\", \"value\": \"teststring\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"},\r\n    \"@context\": \"https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json\"\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Validate that entity was not created",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"\r",
																	"pm.test(\"Status code is 400\", function () {\r",
																	"    //is 400 because no uri is a bad request\r",
																	"    pm.response.to.have.status(400);\r",
																	"});\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Reject entity create with property which has no value",
											"item": [
												{
													"name": "Create Simple Entity With invalid property",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.test(\"Status code is 400\", function () {\r",
																	"    pm.response.to.have.status(400);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															},
															{
																"key": "",
																"value": "",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:mytest:1\",\r\n    \"type\": \"TestType\",\r\n    \"invalidproperty\": {\"type\": \"Property\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"},\r\n    \"@context\": \"https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json\"\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Validate that entity was not created",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"\r",
																	"pm.test(\"Status code is 404\", function () {\r",
																	"    pm.response.to.have.status(404);\r",
																	"});\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Reject entity create with relationship which has no object",
											"item": [
												{
													"name": "Create Simple Entity With invalid property",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"var payloadBody = JSON.parse(pm.request.body.raw);\r",
																	"console.log(payloadBody.id);\r",
																	"var entityId = payloadBody.id;\r",
																	"pm.collectionVariables.set(\"entityId\", entityId);\r",
																	"pm.test(\"Status code is 400\", function () {\r",
																	"    pm.response.to.have.status(400);\r",
																	"});\r",
																	"\r",
																	"\r",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/ld+json",
																"type": "default"
															},
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default",
																"disabled": true
															},
															{
																"key": "",
																"value": "",
																"type": "default",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"id\": \"urn:mytest:1\",\r\n    \"type\": \"TestType\",\r\n    \"invalidrelationship\": {\"type\": \"Relationship\"},\r\n    \"intproperty\": {\"type\": \"Property\", \"value\": 123},\r\n    \"floatproperty\": {\"type\": \"Property\", \"value\": 123.456},\r\n    \"complexproperty\": {\"type\": \"Property\", \"value\": {\"some\": {\"more\": \"values\"}}},\r\n    \"testrelationship\": {\"type\": \"Relationship\", \"object\": \"urn:testref1\"},\r\n    \"@context\": \"https://raw.githubusercontent.com/ScorpioBroker/ScorpioBroker/new_ci/testcontext.json\"\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{entity-manager}}/ngsi-ld/v1/entities",
															"host": [
																"{{entity-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities"
															]
														}
													},
													"response": []
												},
												{
													"name": "Validate that entity was not created",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"\r",
																	"pm.test(\"Status code is 404\", function () {\r",
																	"    pm.response.to.have.status(404);\r",
																	"});\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/json",
																"type": "default"
															}
														],
														"url": {
															"raw": "{{query-manager}}/ngsi-ld/v1/entities/{{entityId}}",
															"host": [
																"{{query-manager}}"
															],
															"path": [
																"ngsi-ld",
																"v1",
																"entities",
																"{{entityId}}"
															]
														}
													},
													"response": []
												}
											]
										}
									]
								}
							]
						}
					]
				}
			]
		}
	],
	"variable": [
		{
			"key": "created4level",
			"value": ""
		},
		{
			"key": "entityId4level",
			"value": ""
		},
		{
			"key": "created4levelnotfound",
			"value": ""
		},
		{
			"key": "entityId4levelnotfound",
			"value": ""
		}
	]
}