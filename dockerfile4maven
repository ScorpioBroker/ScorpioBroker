FROM openjdk:17.0.2-slim

WORKDIR /usr/src/scorpio



#ARG BUILD_DIR_SCS
#ARG BUILD_DIR_SES
#ARG BUILD_DIR_SGW
ARG BUILD_DIR_SCR

#ARG JAR_FILE_BUILD_SCS
#ARG JAR_FILE_BUILD_SES
#ARG JAR_FILE_BUILD_SGW
ARG JAR_FILE_BUILD_SCR


#ARG JAR_FILE_RUN_SCS
#ARG JAR_FILE_RUN_SES
#ARG JAR_FILE_RUN_SGW
ARG JAR_FILE_RUN_SCR


#COPY ${BUILD_DIR_SES}/target/${JAR_FILE_BUILD_SES} ./ses/${JAR_FILE_RUN_SES}
#COPY ${BUILD_DIR_SGW}/target/${JAR_FILE_BUILD_SGW} ./sgw/${JAR_FILE_RUN_SGW}
COPY ${BUILD_DIR_SCR}/target/${JAR_FILE_BUILD_SCR} ./scr/${JAR_FILE_RUN_SCR}

#ENV sesdir ses
#ENV sesjar ${JAR_FILE_RUN_SES}
#ENV scsdir scs
#ENV scsjar ${JAR_FILE_RUN_SCS}
#ENV sgwdir sgw
#ENV sgwjar ${JAR_FILE_RUN_SGW}
ENV scrdir scr
ENV scrjar ${JAR_FILE_RUN_SCR}
ENV spring_args ""
COPY run.sh ./

CMD bash ./run.sh ${spring_args}
